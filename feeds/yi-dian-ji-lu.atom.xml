<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Mirror Lake</title><link href="http://blog.jswh.me/" rel="alternate"></link><link href="http://blog.jswh.me/feeds/yi-dian-ji-lu.atom.xml" rel="self"></link><id>http://blog.jswh.me/</id><updated>2016-12-10T17:41:00+08:00</updated><entry><title>初始化一个 Python 开发环境的正确姿势</title><link href="http://blog.jswh.me/chu-shi-hua-yi-ge-python-kai-fa-huan-jing-de-zheng-que-zi-shi.html" rel="alternate"></link><published>2016-12-10T17:41:00+08:00</published><updated>2016-12-10T17:41:00+08:00</updated><author><name>jswh</name></author><id>tag:blog.jswh.me,2016-12-10:chu-shi-hua-yi-ge-python-kai-fa-huan-jing-de-zheng-que-zi-shi.html</id><summary type="html">&lt;p&gt;在看这篇文章的时候，我需要两个假设，以避免做过多无关的解释。
1. 假设读者对 &lt;a href="https://www.python.org/downloads/"&gt;Python&lt;/a&gt; 有最基本的了解，知道如何使用 &lt;a href="https://pip.pypa.io/en/stable/installing/"&gt;pip&lt;/a&gt;。并且系统环境中已经安装有 Python 和 pip。
2. 假设读者对 &lt;a href="http://docs.python-guide.org/en/latest/dev/virtualenvs/"&gt;virtualenv&lt;/a&gt; 有最基本的了解，知道为什么要用 virtualenv。&lt;/p&gt;
&lt;p&gt;如果假设不成立，可以跟随上面的链接和 Google 来了解。&lt;/p&gt;
&lt;h2&gt;0x1 更换 pypi 源为豆瓣的源&lt;/h2&gt;
&lt;p&gt;如果网络环境好的话这一步也可以不做&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir -p ~/.config/pip/
touch ~/.config/pip/pip.conf
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;在pip.conf 文件中添加以下内容&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[global]&lt;/span&gt;
&lt;span class="na"&gt;timeout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;60&lt;/span&gt;
&lt;span class="na"&gt;index-url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;https://pypi.doubanio.com/simple/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;0x2 安装 virtualenv&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip install virtualenv
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;0x3 使用 vritualenv 初始化应用目录&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;virtualenv path/to/your/app/folder/
source path/to/your/app/folder/bin/activate # 激活环境
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;virtualenv 初始化的时候可以有多种基本Python的环境选择。新版本默认是不会带上site-packages的干净环境。&lt;/p&gt;
&lt;h2&gt;0x4 安装依赖&lt;/h2&gt;
&lt;p&gt;比如 Flask &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip install flask
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;或者如果有&lt;code&gt;requirements.txt&lt;/code&gt;的话&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip install -r requirements.txt
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;0x5 把 virtualenv 环境导入编辑器/IDE&lt;/h2&gt;
&lt;p&gt;这里仅以 VSCode 为例。先安装 &lt;a href="https://code.visualstudio.com/docs/languages/python"&gt;python 的语言插件&lt;/a&gt;，然后编辑 &lt;a href="https://code.visualstudio.com/docs/customization/userandworkspace"&gt;workerspace settings&lt;/a&gt;
增加以下内容&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;quot;python.autoComplete.extraPaths&amp;quot;: [
    &amp;quot;path/to/your/app/folder/lib&amp;quot;
],
&amp;quot;python.pythonPath&amp;quot;:&amp;quot;path/to/your/app/folder/bin/python&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;之后就可以愉快的使用了。&lt;/p&gt;</summary></entry></feed>